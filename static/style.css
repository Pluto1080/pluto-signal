/* [1] 기본 설정: 브라우저 정중앙 정렬 */
:root {
    --screen-bg-center: #444444;
    --screen-bg-edge: #111111;
}

body {
    background: #050505; margin: 0; padding: 0;
    display: flex; flex-direction: column; 
    align-items: center; justify-content: center; /* 자식 요소들을 화면 정중앙으로 */
    height: 100vh; width: 100vw; overflow: hidden;
    font-family: 'DungGeunMo', monospace;
}

/* [1] 기본 설정 및 변수 END */

/* [2] 모니터 프레임: 내부 화면의 기준점(Relative) */
.monitor-frame {
    /* 1. 크기 및 정렬 */
    width: 95vw; height: 75vh;
    max-width: 950px; max-height: 700px;
    display: flex; align-items: center; justify-content: center;
    position: relative; z-index: 3;
    
    /* 2. [핵심 변경] 모니터 틀(베젤) 색상 및 형태 변경 */
    background: #005f5f; /* 프레임 색상: 어두운 청록색으로 변경 (회색 -> 청록색) */
    padding: 40px;    
    border: 8px solid #008080; /* 테두리 색상: 조금 더 밝은 청록색으로 입체감 */
    border-radius: 50px; /* 모서리를 둥글게 (20px -> 50px) */

    /* 3. [복구됨] CRT 특유의 비대칭 굴곡 효과 유지 */
    border-top-left-radius: 80px 80px;
    border-top-right-radius: 80px 80px;
    border-bottom-left-radius: 60px 60px; /* 하단도 둥글게 조정 */
    border-bottom-right-radius: 60px 60px; /* 하단도 둥글게 조정 */

    /* 4. LED 후광 효과 (Ambilight) - 유지 */
    box-shadow: 
        inset 0 0 20px rgba(0,0,0,0.8), /* 틀 안쪽 그림자 */
        0 0 0 8px #004d4d,              /* 외부 얇은 청록색 라인 */
        0 0 60px rgba(0, 255, 255, 0.4), /* 청록색 후광 */
        0 0 120px rgba(255, 0, 255, 0.3); /* 자홍색 후광 */
}

}

.monitor-neck {
    width: 140px; height: 35px;
    background: linear-gradient(to bottom, #005555 0%, #002222 100%);
    margin-top: -15px; z-index: 2;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
}

.monitor-base {
    width: 350px; height: 25px;
    background: linear-gradient(to bottom, #004d4d 0%, #001111 100%);
    border-radius: 30px 30px 5px 5px;
    z-index: 1; box-shadow: 0 15px 25px rgba(0,0,0,0.9);
}
/* [수정] 화면 컨테이너: CRT 굴곡 + 고정된 배경 장식(HUD) 역할 */
/.screen-container {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    
    border-radius: 60px / 40px; 
    overflow: hidden; 
    
    box-shadow: 
        inset 0 0 80px rgba(0,0,0,0.9),
        inset 0 0 20px rgba(0,255,65,0.2);
        
    z-index: 50;
    /* [핵심 변경] 화면 배경색: 완전 검은색에서 회색빛으로 변경 */
    background: #222; /* 회색빛이 도는 짙은 배경색 */
}

/* [수정] 상단 라인: 순서를 5로 낮춤 (내용물보다 뒤로 가기 위함) */
.screen-container::before {
    content: "";
    position: absolute;
    top: 12%; 
    left: 0;
    width: 100%;
    height: 100px;
    
    background: repeating-linear-gradient(
        to bottom,
        rgba(0, 255, 255, 0.15) 0px,
        rgba(0, 255, 255, 0.15) 1px,
        transparent 1px,
        transparent 40px
    );
    z-index: 5; /* [중요] 60 -> 5로 변경 */
    pointer-events: none;
}

/* [수정] 하단 라인: 순서를 5로 낮춤 */
.screen-container::after {
    content: "";
    position: absolute;
    bottom: 12%;
    left: 0;
    width: 100%;
    height: 100px;
    
    background: repeating-linear-gradient(
        to top,
        rgba(0, 255, 255, 0.15) 0px,
        rgba(0, 255, 255, 0.15) 1px,
        transparent 1px,
        transparent 40px
    );
    z-index: 5; /* [중요] 60 -> 5로 변경 */
    pointer-events: none;
}
/* [2] 모니터 외관 및 받침대 END */

/* [3] CRT 특수 효과 애니메이션 START */

/* 1. 글리치 효과 (화면 찢어짐) */
@keyframes glitch-short {
    0% { transform: translate(0); }
    20% { transform: translate(-3px, 0); filter: brightness(1.2); }
    40% { transform: translate(3px, 0); }
    100% { transform: translate(0); }
}
.glitch-active { animation: glitch-short 0.25s ease-out; }

/* 2. 화면 깜빡임 (오래된 모니터 느낌) */
@keyframes flicker {
    0% { opacity: 0.85; }
    50% { opacity: 0.9; }
    100% { opacity: 0.85; }
}

/* 3. CRT 오버레이: 스캔라인 + 비네팅(볼록 렌즈 그림자) */
.crt-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    
    /* 스캔라인 + 비네팅 효과 */
    background: 
        linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
        radial-gradient(circle at center, rgba(0,0,0,0) 60%, rgba(0,0,0,0.6) 100%);
    background-size: 100% 4px, 100% 100%;
    
    pointer-events: none; 
    z-index: 100; /* 맨 앞이지만 투명해서 보임 */
    opacity: 0.9;
    animation: flicker 0.15s infinite;
}

/* 4. 내부 콘텐츠: 텍스트 RGB 번짐 효과 (두꺼운 유리 느낌) */
/* [수정] 내부 콘텐츠: 배경 격자 제거 & 순서(Z-Index) 정리 */
.screen-content {
    /* 1. 레이아웃 및 스크롤 설정 */
    position: relative;
    /* [핵심] 격자(5)보다 훨씬 높은 20을 줘서 버튼이 무조건 위로 오게 함 */
    z-index: 20; 
    
    height: 100%;
    width: 100%;
    padding: 30px;
    overflow-y: auto; /* 스크롤 유지 */
    
    /* 2. 텍스트 스타일 */
    color: #00ff41;
    
    /* 3. 텍스트 RGB 번짐 효과 (이건 남겨야 함!) */
    text-shadow: 
        2px 0 1px rgba(255, 0, 0, 0.3),
        -2px 0 1px rgba(0, 0, 255, 0.3),
        0 0 5px #00ff41;

    /* 4. 배경 설정 (투명하게) */
    background-color: transparent;
    
    /* [핵심] 아까 그 길었던 코드를 'none' 한 줄로 삭제! */
    /* 격자는 이제 screen-container가 담당하니까 여기선 필요 없음 */
    background-image: none; 
    
    /* 5. 스크롤바 숨김 */
    scrollbar-width: none; 
    -ms-overflow-style: none;
}
/* 5. 화면 스캔 광선 (좌우로 지나가는 빛) */
.screen-content::after {
    content: ""; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
    animation: screen-sweep 10s linear infinite; pointer-events: none;
}

@keyframes screen-sweep { to { left: 200%; } }
@keyframes screen-pulse { 0%, 100% { filter: brightness(0.95); } 50% { filter: brightness(1.1); } }

/* [3] CRT 특수 효과 애니메이션 END */

/* [4] 섹션 레이아웃: 프레임 안에서 꽉 차게 겹치기(Absolute) */
.screen {
    position: absolute; /* 부모(.screen-content) 기준으로 고정 */
    top: 0; left: 0; width: 100%; height: 100%;
    display: flex; flex-direction: column; 
    align-items: center; 
    
    /* [수정] 중앙 정렬 대신 상단 정렬을 사용하여 요소들이 아래로 쏠리지 않게 함 */
    justify-content: flex-start; 
    
    /* [수정] 상단에 40px 여백을 주어 제목이 프레임 위쪽에 안정적으로 걸리게 함 */
    padding: 40px 25px 25px 25px; 
    
    opacity: 0; pointer-events: none; 
    transition: opacity 0.4s ease-in-out;
    z-index: 10; backface-visibility: hidden;
    box-sizing: border-box;
    
    /* 내용이 화면 높이를 넘길 경우를 대비한 최소한의 스크롤 허용 */
    overflow-y: auto;
}

/* 화면 활성화 상태 (중복 코드 정리) */
.screen.active { 
    opacity: 1; 
    pointer-events: auto; 
}

h1.shiny-title { 
    /* [수정] 화면 크기에 비해 너무 큰 제목 크기 축소 (3.2rem -> 2.5rem) */
    font-size: 2.5rem; 
    font-weight: 900; 
    text-align: center; 
    margin-top: 0;      /* 상단 여백 제거 */
    margin-bottom: 15px; /* 다음 요소와의 간격 최적화 */
    width: 100%; 
    
    background: linear-gradient(180deg, #00ff41 0%, #ffffff 50%, #00ff41 100%);
    background-size: auto 200%; 
    color: transparent; 
    -webkit-background-clip: text; 
    background-clip: text;
    text-shadow: 0 0 8px rgba(0, 255, 65, 0.6); 
    animation: shine-v 3s linear infinite;
}

@keyframes shine-v { 
    to { background-position: center 200%; } 
}
/* [4] 섹션 레이아웃 및 텍스트 END */

/* [5] UI 요소 및 결과 박스 START */

/* 1. 입력창 & 결과 박스 공통 (사이버펑크 스타일 최적화) */
input, select, .result-box {
    background: rgba(10, 15, 30, 0.85) !important;
    border: 2px solid #00ffff !important;
    color: #00ffff !important;
    text-shadow: 0 0 5px rgba(0, 255, 255, 0.5) !important;
    box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.2) !important;
    
    /* [수정] 패딩을 10px로 줄여 세로 공간 확보 */
    padding: 10px;
    font-family: 'DungGeunMo';
    outline: none;
    /* [수정] 폰트 크기를 살짝 조절 */
    font-size: 1.0rem;
    width: 100%;
    box-sizing: border-box;
    /* [수정] 요소 간 간격을 10px로 최적화 */
    margin-bottom: 10px;
    border-radius: 4px;
}

/* 2. 결과 박스 내부 제목 스타일 */
.result-box h2 {
    font-size: 1.1rem;
    font-weight: 900;
    margin-top: 0;
    color: #ff00ff !important;
    text-shadow: 0 0 10px #ff00ff !important;
    border-bottom: 1px dashed #ff00ff;
    padding-bottom: 10px;
    margin-bottom: 15px;
}
.result-content { font-size: 0.95rem; line-height: 1.6; color: inherit; }

/* 3. 라벨 (위치 보정) */
label {
    color: #ff00ff !important;
    text-shadow: 0 0 8px #ff00ff;
    display: block;
    /* [수정] 라벨과 입력창 사이 간격 최소화 */
    margin-bottom: 3px;
    font-weight: bold;
    font-size: 0.9rem;
}

/* 4. 버튼 스타일 (크기 최적화) */
button.cyber-btn {
    background: rgba(0, 255, 255, 0.1);
    border: 2px solid #00ff41;
    color: #00ff41;
    /* [수정] 패딩 조절 */
    padding: 14px; 
    width: 100%;
    font-family: 'DungGeunMo'; font-weight: 900; font-size: 1.2rem; 
    cursor: pointer; 
    box-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
    /* [수정] 상단 마진 최적화 */
    margin-top: 5px;
    transition: all 0.3s ease;
    text-transform: uppercase;
}
button.cyber-btn:hover { 
    background: #00ff41; 
    color: #000; 
    box-shadow: 0 0 30px #00ff41; 
    border-color: #00ff41;
}

/* 5. 지도 (높이 축소로 전체 레이아웃 확보) */
#map { 
    /* [핵심 수정] 높이를 130px로 줄여 버튼이 화면 밖으로 나가지 않게 함 */
    height: 130px; 
    width: 100%; 
    border: 3px solid #00ffff;
    margin-top: 5px; 
    filter: invert(100%) hue-rotate(180deg); 
    background-color: #000; 
}

/* 6. 기타 유틸리티 및 애니메이션 (기존 유지) */
.button-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; }
.hidden-btn { display: none !important; }

.star { 
    position: absolute; background: #FFD700; border-radius: 0; opacity: 0; 
    box-shadow: 0 0 8px #FFD700, -2px -2px 0px rgba(255, 215, 0, 0.4);
    animation: shooting-star linear infinite; 
}
@keyframes shooting-star { 0% { transform: translate(0, 0); opacity: 0; } 15% { opacity: 1; } 85% { opacity: 1; } 100% { transform: translate(300px, 300px); opacity: 0; } }

/* [5] UI 요소 및 결과 박스 END */
