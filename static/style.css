/* [1] 기본 설정: 브라우저 정중앙 정렬 */
:root {
    --screen-bg-center: #444444;
    --screen-bg-edge: #111111;
}

body {
    background: #050505; margin: 0; padding: 0;
    display: flex; flex-direction: column; 
    align-items: center; justify-content: center; /* 자식 요소들을 화면 정중앙으로 */
    height: 100vh; width: 100vw; overflow: hidden;
    font-family: 'DungGeunMo', monospace;
}

/* [1] 기본 설정 및 변수 END */

/* [2] 모니터 프레임: 내부 화면의 기준점(Relative) */
.monitor-frame {
    /* 1. 크기 및 정렬 */
    width: 95vw; height: 75vh;
    max-width: 950px; max-height: 700px;
    display: flex; align-items: center; justify-content: center;
    position: relative; z-index: 3;
    
    /* 2. [핵심] 모니터 틀(베젤) 만들기 */
    background: #222; /* 플라스틱 틀 색상 */
    padding: 40px;    /* 이 여백이 있어야 틀이 보입니다! */
    border: 5px solid #333; /* 테두리 입체감 */

    /* 3. [복구됨] CRT 특유의 비대칭 굴곡 효과 유지 */
    border-top-left-radius: 80px 80px;
    border-top-right-radius: 80px 80px;
    border-bottom-left-radius: 40px 40px;
    border-bottom-right-radius: 40px 40px;

    /* 4. LED 후광 효과 (Ambilight) */
    box-shadow: 
        inset 0 0 20px rgba(0,0,0,0.8), /* 틀 안쪽 그림자 */
        0 0 0 8px #1a1a1a,              /* 외부 얇은 라인 */
        0 0 60px rgba(0, 255, 255, 0.4), /* 청록색 후광 */
        0 0 120px rgba(255, 0, 255, 0.3); /* 자홍색 후광 */
}

}

.monitor-neck {
    width: 140px; height: 35px;
    background: linear-gradient(to bottom, #005555 0%, #002222 100%);
    margin-top: -15px; z-index: 2;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
}

.monitor-base {
    width: 350px; height: 25px;
    background: linear-gradient(to bottom, #004d4d 0%, #001111 100%);
    border-radius: 30px 30px 5px 5px;
    z-index: 1; box-shadow: 0 15px 25px rgba(0,0,0,0.9);
}
.screen-container {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* [핵심] 볼록한 화면 모양 만들기 (타원형 곡률) */
    border-radius: 60px / 40px; 
    
    /* 테두리 밖으로 나가는 내용 잘라내기 */
    overflow: hidden; 
    
    /* [핵심] 깊이감과 유리 반사 느낌을 주는 안쪽 그림자 */
    box-shadow: 
        inset 0 0 80px rgba(0,0,0,0.9),  /* 가장자리를 어둡게 하여 중앙이 튀어나와 보임 */
        inset 0 0 20px rgba(0,255,65,0.2); /* 테두리에 은은한 녹색광 */
        
    z-index: 50;
    background: #000; /* 실제 배경색은 여기서 지정 */
}
/* [2] 모니터 외관 및 받침대 END */

/* [3] CRT 특수 효과 애니메이션 START */

/* 1. 글리치 효과 (화면 찢어짐) */
@keyframes glitch-short {
    0% { transform: translate(0); }
    20% { transform: translate(-3px, 0); filter: brightness(1.2); }
    40% { transform: translate(3px, 0); }
    100% { transform: translate(0); }
}
.glitch-active { animation: glitch-short 0.25s ease-out; }

/* 2. 화면 깜빡임 (오래된 모니터 느낌) */
@keyframes flicker {
    0% { opacity: 0.85; }
    50% { opacity: 0.9; }
    100% { opacity: 0.85; }
}

/* 3. CRT 오버레이: 스캔라인 + 비네팅(볼록 렌즈 그림자) */
.crt-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    
    /* [핵심] 두 가지 배경 결합 
       1. linear-gradient: 가로 스캔라인 (TV 줄무늬)
       2. radial-gradient: 비네팅 (중앙은 투명, 모서리는 진한 검정 그림자) -> 이게 볼록해 보이게 만드는 핵심 착시
    */
    background: 
        linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
        radial-gradient(circle at center, rgba(0,0,0,0) 55%, rgba(0,0,0,0.6) 100%);
        
    background-size: 100% 4px, 100% 100%; /* 스캔라인 간격 조절 */
    pointer-events: none; /* 클릭 통과 */
    z-index: 100; 
    opacity: 0.9; 
    
    /* 화면이 미세하게 깜빡이는 애니메이션 적용 */
    animation: flicker 0.15s infinite;
}

/* 4. 내부 콘텐츠: 텍스트 RGB 번짐 효과 (두꺼운 유리 느낌) */
.screen-content {
    /* 1. 레이아웃 및 스크롤 설정 */
    position: relative;
    z-index: 90;
    height: 100%;
    width: 100%; /* 부모 컨테이너에 맞춰 꽉 채움 */
    padding: 30px;
    overflow-y: auto; /* 내용이 넘치면 스크롤 */
    
    /* 2. 텍스트 스타일 (레트로 그린) */
    color: #00ff41;
    
    /* 3. [유지] 텍스트 그림자를 이용한 RGB 색수차(번짐) 효과 */
    text-shadow: 
        2px 0 1px rgba(255, 0, 0, 0.3),  /* 빨간색 번짐 */
        -2px 0 1px rgba(0, 0, 255, 0.3), /* 파란색 번짐 */
        0 0 5px #00ff41;                 /* 기본 녹색 발광 */

    /* 4. [유지] 배경색을 투명하게 (부모의 CRT 굴곡 그림자가 비치도록 함) */
    background-color: transparent; 
    
    /* 5. [핵심 변경] 배경 패턴: 전체 격자 삭제 -> 상/하단 가로줄 장식으로 변경 */
    background-image: 
        /* (1) 상단 라인 패턴 (위에서 아래로 그려짐) */
        repeating-linear-gradient(
            to bottom,
            rgba(0, 255, 255, 0.3) 0px,  /* 선 색상 (밝은 청록색) */
            rgba(0, 255, 255, 0.3) 1px,  /* 선 두께 (1px) */
            transparent 1px,             /* 투명 구간 시작 */
            transparent 30px             /* 반복 간격 (30px) */
        ),
        /* (2) 하단 라인 패턴 (아래에서 위로 그려짐) */
        repeating-linear-gradient(
            to top,
            rgba(0, 255, 255, 0.3) 0px,
            rgba(0, 255, 255, 0.3) 1px,
            transparent 1px,
            transparent 30px
        );
        
    /* 6. [핵심 변경] 패턴 크기 및 위치 제어 */
    /* 높이를 90px로 제한 -> 30px 간격 패턴이 정확히 3번만 반복됨 (3줄) */
    background-size: 100% 90px;
    
    /* 전체 반복(repeat)을 끄고, 위치를 위/아래 끝으로 고정 */
    background-repeat: no-repeat;
    background-position: top center, bottom center;
    
    /* 7. 블렌딩 및 스크롤바 숨김 */
    background-blend-mode: screen;
    scrollbar-width: none; 
    -ms-overflow-style: none;
}
/* 5. 화면 스캔 광선 (좌우로 지나가는 빛) */
.screen-content::after {
    content: ""; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
    animation: screen-sweep 10s linear infinite; pointer-events: none;
}

@keyframes screen-sweep { to { left: 200%; } }
@keyframes screen-pulse { 0%, 100% { filter: brightness(0.95); } 50% { filter: brightness(1.1); } }

/* [3] CRT 특수 효과 애니메이션 END */

/* [4] 섹션 레이아웃: 프레임 안에서 꽉 차게 겹치기(Absolute) */
.screen {
    position: absolute; /* 부모(.screen-content) 기준으로 띄움 */
    top: 0; left: 0; width: 100%; height: 100%;
    display: flex; flex-direction: column; 
    align-items: center; justify-content: center; /* 내부 콘텐츠 중앙 정렬 */
    padding: 25px; opacity: 0; pointer-events: none; 
    transition: opacity 0.4s ease-in-out;
    z-index: 10; backface-visibility: hidden;
    box-sizing: border-box;
}

.screen.active { opacity: 1; pointer-events: auto; }
}

/* 화면이 활성화되면 보이게 설정 */
.screen.active { 
    opacity: 1; 
    pointer-events: auto; 
}

h1.shiny-title { 
    font-size: 3.2rem; 
    font-weight: 900; 
    text-align: center; 
    margin-bottom: 20px; 
    width: 100%; /* 제목이 전체 너비를 쓰도록 강제 */
    
    background: linear-gradient(180deg, #00ff41 0%, #ffffff 50%, #00ff41 100%);
    background-size: auto 200%; 
    color: transparent; 
    -webkit-background-clip: text; 
    background-clip: text;
    text-shadow: 0 0 8px rgba(0, 255, 65, 0.6); 
    animation: shine-v 3s linear infinite;
}
@keyframes shine-v { to { background-position: center 200%; } }
/* [4] 섹션 레이아웃 및 텍스트 END */

/* [5] UI 요소 및 결과 박스 START */

/* 1. 입력창 & 결과 박스 공통 (사이버펑크 스타일 적용) */
input, select, .result-box {
    background: rgba(10, 15, 30, 0.85) !important; /* 푸른빛 도는 투명 배경 */
    border: 2px solid #00ffff !important;         /* 밝은 청록색 테두리 */
    color: #00ffff !important;                    /* 텍스트 색상 */
    text-shadow: 0 0 5px rgba(0, 255, 255, 0.5) !important;
    box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.2) !important; /* 내부 발광 */
    
    padding: 15px;
    font-family: 'DungGeunMo';
    outline: none;
    font-size: 1.1rem;
    width: 100%;
    box-sizing: border-box;
    margin-bottom: 12px;
    border-radius: 4px;
}

/* 2. 결과 박스 내부 제목 스타일 */
.result-box h2 {
    font-size: 1.1rem;
    font-weight: 900;
    margin-top: 0;
    color: #ff00ff !important;       /* 제목은 자홍색 포인트 */
    text-shadow: 0 0 10px #ff00ff !important;
    border-bottom: 1px dashed #ff00ff;
    padding-bottom: 10px;
    margin-bottom: 15px;
}
.result-content { font-size: 0.95rem; line-height: 1.6; color: inherit; }

/* 3. 라벨 (추가됨) */
label {
    color: #ff00ff !important;
    text-shadow: 0 0 8px #ff00ff;
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

/* 4. 버튼 스타일 (네온 효과 강화) */
button.cyber-btn {
    background: rgba(0, 255, 255, 0.1);
    border: 2px solid #00ff41;
    color: #00ff41;
    padding: 16px; 
    width: 100%;
    font-family: 'DungGeunMo'; font-weight: 900; font-size: 1.3rem; 
    cursor: pointer; 
    box-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
    margin-top: 15px;
    transition: all 0.3s ease;
    text-transform: uppercase;
}
button.cyber-btn:hover { 
    background: #00ff41; 
    color: #000; 
    box-shadow: 0 0 30px #00ff41; 
    border-color: #00ff41;
}

/* 5. 지도 (테두리 색상만 테마에 맞게 변경) */
#map { 
    height: 160px; 
    width: 100%; 
    border: 3px solid #00ffff; /* 청록색으로 깔맞춤 */
    margin-top: 5px; 
    filter: invert(100%) hue-rotate(180deg); 
    background-color: #000; 
}

/* 6. 기타 유틸리티 및 애니메이션 (기존 유지) */
.button-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; }
.hidden-btn { display: none !important; }

.star { 
    position: absolute; background: #FFD700; border-radius: 0; opacity: 0; 
    box-shadow: 0 0 8px #FFD700, -2px -2px 0px rgba(255, 215, 0, 0.4);
    animation: shooting-star linear infinite; 
}
@keyframes shooting-star { 0% { transform: translate(0, 0); opacity: 0; } 15% { opacity: 1; } 85% { opacity: 1; } 100% { transform: translate(300px, 300px); opacity: 0; } }

/* [5] UI 요소 및 결과 박스 END */
